<ng-container *transloco="let t">
  <div class="table-container">
    @if (elements().length > 0) {
      <table
        tuiTable
        [size]="'m'"
      >
        <thead>
        <tr>
          <th tuiTh>
            {{ t('element.name') }}
          </th>

          <th tuiTh>
            {{ t('element.creationDateFull') }}
          </th>

          <th tuiTh>
            {{ t('element.dueDateFull') }}
          </th>

          <th tuiTh></th>
        </tr>
        </thead>

        <tbody tuiTbody>
          @for (element of elements(); track element.id) {
            <tr>
              <td tuiTd>
                {{ element.name }}
              </td>

              <td tuiTd>
                {{ element.creationDate | date:'dd/MM/yyyy, HH:mm' }}
              </td>

              <td tuiTd>
                {{ element.dueDate | date:'dd/MM/yyyy, HH:mm' }}
              </td>

              <td tuiTd>
                <div class="table-buttons">
                  <button
                    tuiButton
                    type="button"
                    appearance="primary"
                    (click)="onDuplicate(element.id)"
                  >
                    {{ t('actions.duplicate.title') }}
                    <tui-icon
                      icon="@tui.copy"
                    />
                  </button>

                  <button
                    tuiButton
                    type="button"
                    appearance="accent"
                    (click)="onDelete(element.id)"
                  >
                    {{ t('actions.delete.title') }}
                    <tui-icon
                      icon="@tui.trash"
                    />
                  </button>
                </div>
              </td>
            </tr>
          }
        </tbody>
      </table>
    } @else {
      <p>{{ t('errors.notFound') }}</p>
    }
  </div>
</ng-container>
